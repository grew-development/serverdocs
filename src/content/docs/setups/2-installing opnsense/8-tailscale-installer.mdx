---
title: Tailscale installer (in OPNSense)
author: Sven Rönnfranz alias Grewo
description: Installer Wiki for Tailscale installation in opnsense
---

import { Aside } from "@astrojs/starlight/components";
import { LinkCard, CardGrid } from '@astrojs/starlight/components';

Tailscale is a VPN like software that allows you to create virtual network between your devices.
It also allows for simple in Browser SSH and Exit Node creation if you want to use your server as a VPN aswell.
It also has a lot of other usefull features like file sharing and much more.

<Aside type="note">
This step is optional.<br/>
However, I recommend this step because it allows secure and private access to your services or servers without opening any ports.
You can also use it to access your devices from anywhere in the world for debugging purposes.
</Aside>

## Installing Tailscale
Tailscale is sadly not directly available as a plugin.<br/>
But its still rather simple to install. I mainly followed the official Tailscale guide which isn’t 100% correct at the moment.

<LinkCard
    title="Official Tailscale-Guide"
    href="https://tailscale.com/kb/1097/install-opnsense"
/>

First of all, we should download more ports for OPNSense.<br/>
* Go to your  OPNSense Console
* Choose `Option 8` for open shell
* Wirte `opnsense-code ports` (the download may take some time now)

Now we have to go to our tailscale folder to start the installation there

* Open your Tailscale-Folder with `cd /usr/ports/security/tailscale`
* Write `make install` (This will take a few minutes depending on the CPU performance)

Now everything should be installed and we can now start a tailscale demon as well as execute tailscale.

* `service tailscaled enable`
* `service tailscaled start`

To test whether Tailscale has actually started, we can enter `tailscale version`.<br/>
If everything has now worked, we can now connect to our Tailscale account.

## Connect Tailscale
Now select how you want to connect Tailscale to your OPNsense.
There are four different options.

1. `tailscale up` > Execute this command to establish the simple connection.
2. `tailscale up --ssh` > This will allow you to establish an SSH connection via tailscale
3. `tailscale up --advertise-exit-node` > Run this command to use OPNsense as VPN or Exit Node
4. `tailscale up --ssh --advertise-exit-node` > Establish tailscale with SSH connection and exit node (my choice)

After you have entered your name, a link like "https://login.tailscale.com/a/RANDOMNUMBER" will appear.

Enter this into the browser to log in to Tailscale.
Your OPNsense will now automatically be added to your tailscale, as soon as you have confirmed everything you will automatically be taken to your machines

## Activating Exit Node
Even tho because of firewall rules Tailscale will not have internet access on the exit node for now you also need to make sure to allow the device to be used as an access node in the Tailscale `Admin Console`.
There you can click the option buttons next to your device and go to `Edit route settings`.
There you need to enable `Use as exit node`. This should be everything you need to do.
Now it should be an available option as an exit node on for exampel your desktop or mobile device in the Tailscale app.
